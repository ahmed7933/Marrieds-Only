<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VIP Couples | ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù†Ø®Ø¨Ø©</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        :root {
            --primary: #ff0055; /* Ø£Ø­Ù…Ø± Ù†ÙŠÙˆÙ† */
            --gold: #fbbf24;
            --dark-glass: rgba(0, 0, 0, 0.85);
            --light-glass: rgba(255, 255, 255, 0.1);
            --border-glow: 0 0 15px var(--primary);
        }

        * { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0;
            background: #000 url('assets/images/main_bg.jpg') no-repeat center center/cover;
            background-attachment: fixed;
            font-family: 'Cairo', sans-serif;
            color: white;
            height: 100vh;
            overflow: hidden;
        }

        /* Ø§Ù„Ù…Ø¤Ø«Ø±Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ© (Overlay) */
        .overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.6), #000);
            z-index: 0;
        }

        .container {
            position: relative;
            z-index: 1;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* Ø§Ù„Ø´Ø§Ø´Ø§Øª */
        .screen {
            display: none;
            width: 100%;
            height: 100%;
            padding: 20px;
            overflow-y: auto;
        }
        .screen.active { display: flex; flex-direction: column; align-items: center; }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ… */
        .btn-vip {
            background: linear-gradient(135deg, var(--primary), #990033);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 15px 40px;
            border-radius: 50px;
            color: white;
            font-size: 1.2rem;
            font-weight: 900;
            box-shadow: 0 5px 20px rgba(255, 0, 85, 0.5);
            transition: 0.3s;
            cursor: pointer;
            margin: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .btn-vip:active { transform: scale(0.95); box-shadow: 0 2px 10px rgba(255, 0, 85, 0.3); }

        /* ÙƒØ±ÙˆØª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Dashboard Cards) */
        .games-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            width: 100%;
            max-width: 500px;
            padding-bottom: 50px;
        }

        .game-thumb {
            background: var(--dark-glass);
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid var(--light-glass);
            position: relative;
            height: 160px;
            cursor: pointer;
            transition: 0.3s;
            backdrop-filter: blur(10px);
        }

        .game-thumb img {
            width: 100%; height: 100%; object-fit: cover; opacity: 0.6; transition: 0.5s;
        }
        .game-thumb:hover img { opacity: 0.3; transform: scale(1.1); }
        
        .game-info {
            position: absolute;
            bottom: 0; left: 0; width: 100%;
            padding: 15px;
            background: linear-gradient(to top, black, transparent);
        }
        .game-title { font-size: 1.4rem; font-weight: bold; color: var(--gold); }
        .game-desc { font-size: 0.9rem; color: #ddd; }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© (Intro Modal) */
        .modal-glass {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(20px);
            z-index: 100;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            padding: 30px;
        }
        .modal-glass.show { display: flex; animation: fadeIn 0.5s; }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨ ÙˆØ§Ù„ÙƒØ±ÙˆØª */
        .game-area {
            width: 100%; max-width: 450px;
            display: flex; flex-direction: column; align-items: center;
            margin-top: 20px;
        }

        .card-wrapper {
            width: 100%;
            height: 450px;
            perspective: 1000px;
            margin-bottom: 20px;
        }

        .the-card {
            width: 100%; height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .card-face {
            position: absolute; width: 100%; height: 100%;
            backface-visibility: hidden;
            border-radius: 25px;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            padding: 20px;
            border: 2px solid var(--gold);
            overflow: hidden;
        }

        .card-front {
            background: #111 url('assets/images/card_back_pattern.jpg'); /* Ø¸Ù‡Ø± Ø§Ù„ÙƒØ§Ø±Øª */
            background-size: cover;
        }

        .card-back {
            background: #222;
            transform: rotateY(180deg);
            text-align: center;
        }
        
        /* ØµÙˆØ±Ø© Ø§Ù„ØªØ­Ø¯ÙŠ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒØ§Ø±Øª */
        .challenge-img {
            width: 100%;
            height: 60%;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 15px;
            border: 1px solid var(--primary);
        }

        .challenge-text {
            font-size: 1.3rem;
            line-height: 1.5;
            font-weight: bold;
        }

        .flipped { transform: rotateY(180deg); }

        /* Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        .login-input {
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--primary);
            padding: 15px;
            border-radius: 30px;
            color: white;
            text-align: center;
            font-size: 1.2rem;
            width: 80%;
            margin-bottom: 20px;
            outline: none;
        }

    </style>
</head>
<body>

    <div class="overlay"></div>
    
    <audio id="snd-bg" loop> <source src="assets/sounds/bg_music.mp3" type="audio/mpeg"> </audio>
    <audio id="snd-click"> <source src="assets/sounds/click.mp3" type="audio/mpeg"> </audio>
    <audio id="snd-flip"> <source src="assets/sounds/whoosh.mp3" type="audio/mpeg"> </audio>
    <audio id="snd-win"> <source src="assets/sounds/win.mp3" type="audio/mpeg"> </audio>

    <div class="container">

        <div id="screen-login" class="screen active" style="justify-content: center;">
            <img src="assets/images/logo.png" style="width: 150px; margin-bottom: 20px; filter: drop-shadow(0 0 10px var(--primary));" alt="Logo">
            <h1 style="color:var(--gold); margin-bottom: 40px;">Ù…Ù†Ø·Ù‚Ø© ÙƒØ¨Ø§Ø± Ø§Ù„Ø´Ø®ØµÙŠØ§Øª</h1>
            <input type="text" class="login-input" id="passcode" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ">
            <button class="btn-vip" onclick="attemptLogin()">Ø¯Ø®ÙˆÙ„ ğŸ”“</button>
        </div>

        <div id="screen-dashboard" class="screen">
            <div style="width:100%; display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h2 style="margin:0;">Ø§Ø®ØªØ± ØªØ¬Ø±Ø¨ØªÙƒ ğŸ”¥</h2>
                <div onclick="toggleMusic()" style="font-size:1.5rem; cursor:pointer;">ğŸµ</div>
            </div>
            
            <div class="games-grid">
                <div class="game-thumb" onclick="openGameIntro('game1')">
                    <img src="https://images.unsplash.com/photo-1516726817505-f5ed825624d8?q=80&w=600" alt="Truth or Dare">
                    <div class="game-info">
                        <div class="game-title">Ø´ÙˆÙ‚ Ø£Ùˆ Ø°ÙˆÙ‚</div>
                        <div class="game-desc">Ø¬Ø±Ø£Ø© ÙˆØµØ±Ø§Ø­Ø© Ù„Ø£Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø¯ÙˆØ¯</div>
                    </div>
                </div>
                <div class="game-thumb" onclick="openGameIntro('game2')">
                    <img src="https://images.unsplash.com/photo-1570570532296-e2652b475962?q=80&w=600" alt="Positions">
                    <div class="game-info">
                        <div class="game-title">Ø£ÙˆØ¶Ø§Ø¹ ÙˆØ£Ø­ÙƒØ§Ù…</div>
                        <div class="game-desc">ØªØ­Ø¯ÙŠØ§Øª Ø¬Ø³Ø¯ÙŠØ© Ø³Ø§Ø®Ù†Ø©</div>
                    </div>
                </div>
                <div class="game-thumb" onclick="startScratchGame()">
                    <img src="https://images.unsplash.com/photo-1605218427306-6354db696faa?q=80&w=600" alt="Rewards">
                    <div class="game-info">
                        <div class="game-title">Ø®Ø±Ø¨Ø´ ÙˆØ§ÙƒØ³Ø¨</div>
                        <div class="game-desc">Ø¬ÙˆØ§ÙŠØ² ÙÙˆØ±ÙŠØ© ÙˆÙ…ÙØ§Ø¬Ø¢Øª</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="modal-intro" class="modal-glass">
            <img id="intro-img" src="" style="width: 120px; border-radius: 50%; border: 3px solid var(--gold); margin-bottom: 20px;">
            <h2 id="intro-title" style="color: var(--primary); font-size: 2rem;"></h2>
            <p id="intro-desc" style="font-size: 1.1rem; line-height: 1.6; max-width: 300px;"></p>
            <button class="btn-vip" onclick="startGameSession()">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ­Ø¯ÙŠ ğŸš€</button>
            <button style="background:none; border:none; color:#999; margin-top:15px; cursor:pointer;" onclick="closeIntro()">Ø¥Ù„ØºØ§Ø¡</button>
        </div>

        <div id="screen-game" class="screen">
            <div class="game-area">
                <div class="card-wrapper">
                    <div class="the-card" id="active-card">
                        <div class="card-face card-front">
                            <h1 style="font-size: 4rem; color: var(--gold);">?</h1>
                            <p style="color: #999;">Ø§Ø¶ØºØ· Ù„Ù„ÙƒØ´Ù</p>
                        </div>
                        <div class="card-face card-back">
                            <img id="challenge-img" class="challenge-img" src="" alt="Challenge">
                            <p id="challenge-txt" class="challenge-text"></p>
                        </div>
                    </div>
                </div>
                
                <button class="btn-vip" onclick="nextCard()">Ø³Ø­Ø¨ ÙƒØ§Ø±Øª Ø¬Ø¯ÙŠØ¯ ğŸƒ</button>
                <button class="btn-vip btn-secondary" style="background:#333; margin-top:0;" onclick="goHome()">Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© ğŸ </button>
            </div>
        </div>

    </div>

    <script>
        // --- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Data Structure) ---
        // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ø®Ø§ØµØ© Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„
        const db = {
            game1: {
                title: "Ø´ÙˆÙ‚ Ø£Ùˆ Ø°ÙˆÙ‚",
                desc: "Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¯ÙŠ Ù…Ø­ØªØ§Ø¬Ø© ØµØ±Ø§Ø­Ø© ÙˆØ¬Ø±Ø£Ø©. Ø§Ù„ÙƒØ±ÙˆØª Ù…ØªÙ‚Ø³Ù…Ø© Ù„Ù†ÙˆØ¹ÙŠÙ†: Ø³Ø¤Ø§Ù„ Ù…Ø­Ø±Ø¬ Ø£Ùˆ ÙØ¹Ù„ Ø¬Ø±ÙŠØ¡. Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„Ø±ÙØ¶!",
                img: "assets/images/game1_icon.jpg",
                content: [
                    { txt: "Ø£ÙˆØµÙ Ø£ÙƒØªØ± Ù…ÙƒØ§Ù† ÙÙŠ Ø¬Ø³Ù…ÙŠ Ø¨ÙŠØ«ÙŠØ±ÙƒØŸ", img: "assets/images/game1/1.jpg" },
                    { txt: "Ø¨ÙˆØ³ Ø´Ø±ÙŠÙƒÙƒ Ø¨ÙˆØ³Ø© ÙØ±Ù†Ø³ÙŠØ© Ù„Ù…Ø¯Ø© Ø¯Ù‚ÙŠÙ‚Ø©", img: "assets/images/game1/2.jpg" },
                    // Ø¶Ù Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù€ 100 Ø³Ø¤Ø§Ù„ Ù‡Ù†Ø§
                    // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø© Ù„Ù„Ø³Ø¤Ø§Ù„ØŒ Ø§Ø³ØªØ®Ø¯Ù… ØµÙˆØ±Ø© Ø¹Ø§Ù…Ø©
                    { txt: "Ø§Ø±Ù‚Øµ Ø³Ù„Ùˆ Ø¨Ø¯ÙˆÙ† Ù…ÙˆØ³ÙŠÙ‚Ù‰", img: "assets/images/game1/default.jpg" } 
                ]
            },
            game2: {
                title: "Ø£ÙˆØ¶Ø§Ø¹ ÙˆØ£Ø­ÙƒØ§Ù…",
                desc: "ØªØ­Ø¯ÙŠØ§Øª Ø¬Ø³Ø¯ÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø© Ù„ØªØ³Ø®ÙŠÙ† Ø§Ù„Ø£Ø¬ÙˆØ§Ø¡. Ø§Ø³ØªØ¹Ø¯ÙˆØ§ Ù„ØªØ¬Ø±Ø¨Ø© Ø­Ø§Ø¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©!",
                img: "assets/images/game2_icon.jpg",
                content: [
                    { txt: "Ù…Ø³Ø§Ø¬ Ø¨Ø§Ù„Ø²ÙŠØª Ù„Ù„Ø±Ù‚Ø¨Ø©", img: "assets/images/game2/1.jpg" },
                    { txt: "Ø§Ø±Ø¨Ø· Ø¹ÙŠÙ† Ø´Ø±ÙŠÙƒÙƒ ÙˆØ§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªÙ„Ø¬", img: "assets/images/game2/2.jpg" }
                ]
            }
        };

        // --- Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ---
        let currentSession = [];
        let activeGameId = '';
        let isMusicPlaying = false;

        // --- Ø§Ù„Ù…Ø¤Ø«Ø±Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ© ---
        function playSnd(type) {
            const audio = document.getElementById('snd-' + type);
            if(audio) {
                audio.currentTime = 0;
                audio.play().catch(e => console.log("Audio play blocked"));
            }
        }

        function toggleMusic() {
            const bgMusic = document.getElementById('snd-bg');
            if (isMusicPlaying) {
                bgMusic.pause();
                isMusicPlaying = false;
            } else {
                bgMusic.volume = 0.3; // ØµÙˆØª ÙˆØ§Ø·ÙŠ
                bgMusic.play();
                isMusicPlaying = true;
            }
        }

        // --- Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø´Ø§Ø´Ø§Øª ---
        function switchScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('screen-' + id).classList.add('active');
            playSnd('click');
        }

        function attemptLogin() {
            const code = document.getElementById('passcode').value;
            if(code === '1234' || code === 'HOT') {
                playSnd('win');
                switchScreen('dashboard');
            } else {
                alert('Ø§Ù„ÙƒÙˆØ¯ ØºÙ„Ø· ÙŠØ§ Ø¬Ù…ÙŠÙ„ ğŸ˜‰');
            }
        }

        // --- Ù…Ù†Ø·Ù‚ Ø§Ù„Ù„Ø¹Ø¨Ø© ---
        function openGameIntro(gameId) {
            activeGameId = gameId;
            const game = db[gameId];
            
            // ØªØ¹Ø¨Ø¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©
            document.getElementById('intro-title').innerText = game.title;
            document.getElementById('intro-desc').innerText = game.desc;
            // ÙŠÙ…ÙƒÙ†Ùƒ ÙˆØ¶Ø¹ ØµÙˆØ±Ø© Ù…Ø¹Ø¨Ø±Ø© Ù‡Ù†Ø§
            document.getElementById('intro-img').src = "https://cdn-icons-png.flaticon.com/512/2503/2503529.png"; 
            
            document.getElementById('modal-intro').classList.add('show');
            playSnd('click');
        }

        function closeIntro() {
            document.getElementById('modal-intro').classList.remove('show');
        }

        function startGameSession() {
            closeIntro();
            // Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹ (Shuffle)
            currentSession = [...db[activeGameId].content].sort(() => Math.random() - 0.5);
            
            // ØªØºÙŠÙŠØ± Ø®Ù„ÙÙŠØ© Ø§Ù„ØµÙØ­Ø© Ù„ØªÙ†Ø§Ø³Ø¨ Ø§Ù„Ù„Ø¹Ø¨Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
            // document.body.style.backgroundImage = `url('assets/images/${activeGameId}_bg.jpg')`;

            switchScreen('game');
            // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ÙƒØ§Ø±Øª Ù„ÙˆØ¶Ø¹Ù‡ Ø§Ù„Ø£ØµÙ„ÙŠ
            const card = document.getElementById('active-card');
            card.classList.remove('flipped');
        }

        function nextCard() {
            const card = document.getElementById('active-card');
            
            // 1. Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙƒØ§Ø±Øª Ù…ÙƒØ´ÙˆÙØŒ Ø§Ù‚Ù„Ø¨Ù‡ Ù„Ù„Ø£ÙˆÙ„ (Ø§Ø®ÙÙŠÙ‡)
            if(card.classList.contains('flipped')) {
                card.classList.remove('flipped');
                setTimeout(revealNewContent, 600); // Ø§Ù†ØªØ¸Ø± Ø­ØªÙ‰ ÙŠÙ†Ù‚Ù„Ø¨
            } else {
                revealNewContent();
            }
        }

        function revealNewContent() {
            if(currentSession.length === 0) {
                alert("Ø®Ù„ØµØª Ø§Ù„ÙƒØ±ÙˆØª! Ù‡Ù†Ø¹ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£ÙˆÙ„ ğŸ”¥");
                currentSession = [...db[activeGameId].content].sort(() => Math.random() - 0.5);
            }

            const item = currentSession.pop();
            const card = document.getElementById('active-card');

            // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            document.getElementById('challenge-txt').innerText = item.txt;
            
            // Ø¥Ø°Ø§ Ø§Ù„ØµÙˆØ±Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© Ø§Ø³ØªØ®Ø¯Ù… ØµÙˆØ±Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (Placeholder) Ù„ØªØ¬Ù†Ø¨ ÙƒØ³Ø± Ø§Ù„ØªØµÙ…ÙŠÙ…
            const imgPath = item.img ? item.img : 'https://placehold.co/400x300/111/gold?text=Hot+Challenge';
            document.getElementById('challenge-img').src = imgPath;

            playSnd('flip');
            card.classList.add('flipped'); // Ø§ÙƒØ´Ù Ø§Ù„ÙƒØ§Ø±Øª
        }

        function goHome() {
            switchScreen('dashboard');
            // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø£ØµÙ„ÙŠØ©
            // document.body.style.backgroundImage = "url('assets/images/main_bg.jpg')";
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ ÙƒØ±ÙˆØª Ø§Ù„Ù„Ø¹Ø¨ Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„ÙŠÙ‡Ø§
        document.getElementById('active-card').addEventListener('click', function() {
            if(!this.classList.contains('flipped')) {
                nextCard();
            }
        });

    </script>
</body>
</html>
